{% extends 'base.html' %}
{% block title %}
    home page
{% endblock title %}
{% block head %}
    {{ super() }}
{% endblock head %}
{% block content %}
    <!-- form -->
    <form class="mx-3" method="post" action="update/">
        <!-- task name -->
        <div class="mb-3">
            <label for="task"  class="form-label">Enter the Task</label>
            <input type="text" name="task_name" class="form-control" id="task" aria-describedby="task_name">
        </div>
        <!-- task description -->
        <div class="mb-3">
            <label for="task_desc" class="form-label">describe your task briefly</label>
            <input type="text" name="task_desc" class="form-control" id="task_desc" aria-describedby="task_desc">
        </div> 
        <!-- sub task entry -->
        <div class="row">
            <!-- sub task 1 -->
                <div class="col">
                <div class="mb-3">
                    <label for="task" class="form-label">Enter the sub-task</label>
                    <input type="text" name="sub_task1" class="form-control" id="st1" task" aria-describedby="task_name">
                    </div>
                </div>
            <!-- sub task 2-->
                <div class="col">
                <div class="mb-3">
                    <label for="task" class="form-label">Enter the sub-tasks</label>
                    <input type="text" class="form-control" name="sub_task2" id="st2" aria-describedby="task_name">
                    </div>
                </div>
            <!-- sub task 3 -->
                <div class="col">
                <div class="mb-3">
                    <label for="task" class="form-label">Enter the sub-tasks</label>
                    <input type="text" class="form-control" name="sub_task3" id="st3" aria-describedby="task_name">
                    </div>
                </div>
            </div>
            </div>
            <!-- submit button -->
        <div class="row justify-content-center">
            <div class="col"></div>
            <button type="submit" class="mt-3 px-0 col btn btn-primary justify-align-center">Submit</button>
            <div class="col"></div>
        </div>    
    </form>
    <hr class="border border-primary border-2 opacity-25">
    <!-- to-do list table -->
    <table class="table table-hover mt-5">
        <thead>
            <!-- table heading -->
          <tr>
            <th scope="col">S No.</th>
            <th scope="col">Task Name</th>
            <th scope="col">Task Description</th>
            <th scope="col">Sub Tasks</th>
            <th scope="col">Task Date</th>
          </tr>
        </thead>
        <tbody>
            {% for task in allTodo  %}
            <tr>
              <td>{{loop.index}}</td>
              <td>{{task.task_name}}</td>
              <td>{{task.task_desc}}</td>
              <!-- sub task cell for the row -->
              <td>
                <form action="/delete" method="post" id = "x">

                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" name={{task.sub_task1}} value= 1 id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                      {{task.sub_task1}}
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" name={{task.sub_task2}} value= 2 id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                      {{task.sub_task2}}
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" name={{task.sub_task3}} value= 3 id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                      {{task.sub_task3}}
                    </label>
                </form>
                  </div>
              </td>
              
              <td>{{task.declared_at}}</td>


            </tr>
        {% endfor %}
        </tbody>
      </table>
{% endblock content %}
{% block footer %}
    {{super()}}
{% endblock footer %}
